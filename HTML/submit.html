<!DOCTYPE html>
<html lang ="pt-BR">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Submissão de dados</title>
        <link rel="icon" type="image/x-icon" href="../assets/mac.ico" /> <!-- colocar ícone na pag-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../css/submit.css" rel="stylesheet" />
        <link href="../css/styles.css" rel="stylesheet" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>       
        <script src="../js/add-script.js"></script>
        
        <style>
            /* Estilo do preloader */
            #preloader {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: white;
           z-index: 9999;
           display: flex;
           align-items: center;
           justify-content: center;
           overflow: hidden;
           animation: slideUp 1s ease-out forwards; /* Animação de deslizar para cima */
         }
     
         .logo {
           width: 250px; /* Ajuste o tamanho da logo conforme necessário */
         }
     
         @keyframes slideUp {
           0% {
             transform: translateY(0);
             opacity: 1;
           }
           100% {
             transform: translateY(-100%);
             opacity: 0;
           }
         }
     
         /* Conteúdo da página */
         #content {
           display: none; /* Esconde o conteúdo até que o carregamento seja concluído */
         }
               </style>
    </head>
    <body id="page1">

        <div id="preloader">
            <img src="../assets/avatar.jpeg" alt="Logo" class="logo"> <!-- Substitua 'logo.png' pelo caminho da sua logo -->
          </div>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
            <div class="container px-4">
                
                <div class="search1">
                    
                    <input style="left: 0%;" id="search1" type="text" name="search" placeholder="Search.." onclick="n()">
                    <button style="left: 0%;"><i class="bi bi-search" onclick="n()"></i></button>
                </div>

                <!--<a class="navbar-brand" href="#page-top">Start Bootstrap</a>-->

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" id="navbarToggleBtn"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">

                        <li class="nav-item"><a class="nav-link" href="../index.html" onclick=closeNavbar()>Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#last-issues" onclick=closeNavbar()>Últimos Artigos</a></li>
                        <li class="nav-item"><a class="nav-link" href="../index.html#contact" onclick=closeNavbar()>Contatos</a></li>
                        <li class="nav-item"><a class="nav-link" href="consulta.php" onclick=closeNavbar()>Consulta</a></li>
                        <li class="nav-item"><a class="nav-link" href="submit.html">Submissão de dados</a></li>
                        <!--<li class="nav-item"><a class="nav-link" href="#" onclick= "openLoginDialog(); closeNavbar()" >Login</a></li>--> <!-- deixar o login como caixa de diálogo-->
                        <!--<li class="nav-item"><a class="nav-link" href="novo-user.html" onclick=closeNavbar()>Sing in </a></li>--> <!-- registro mais informações além disso pode ser em uma pagina nova-->
                    </ul>
                </div>
            </div>
        </nav>



 <!-- LOGIN POR CAIXA DE DIALOGO-->                     
 <div id="loginDialogOverlay">

    <div id="loginDialog">
        
        <img src="../assets/avatar.jpeg" alt="Avatar" class="avatar">
    </br>
</br>
        <h2>Login</h2></br>
        <form action="../PHP/login.php" method="post">
            
            <label for="username">Nome:</label></br>
            <input type="text" id="nome" name="nome" required autofocus>
        </br>
            <label for="password">Senha:</label></br>
            <input type="password" id="senha" name="senha" required></br>

           <button class="lgbttn" type="submit">Login</button></br>
                                        
</form>
            
<button class="lgbttn" onclick="closeLoginDialog()">Fechar</button>

</div>
</div>

        <header class="bg-primary bg-gradient text-white">
            <div class="container px-4 text-center">
                <h1 class="fw-bolder"> ProxyMar Data Base</h1>
                <li> Antes de iniciar o processo de submissão, verifique as diretrizes e toda a documentação
                    necessária - Manuais e modelos de planilhas para submissão podem ser encontrados <a target="_blank" rel="noopener noreferrer" class="aqui-sub" href="https://wiki.pangaea.de/wiki/Best_practice_manuals_and_templates">aqui</a>. </li></br>

            <li> Se você encontrou algum erro ou gostaria de fazer alguma sugestão como tornar o processo mais intuitivo, por favor, envie um e-mail e o print da tela para 
                <a class="aqui-sub" href="mailto:proxymar@usp.br" target="_blank">proxymar@usp.br</a></li>
                
</div>
        </header></br>
        <script>
            // Função para bloquear o Enter
            function bloquearEnter(event) {
                if (event.key === "Enter") {
                    event.preventDefault(); // Bloqueia o Enter
                    return false;
                }
            }
        </script>
            
            <!-- PRIMEIRA PAGINA -->


<form id="forms" method="post" action="../PHP/submit-DADOS2.php"  enctype="multipart/form-data" style="position: relative; margin-bottom: 10px;">
    <div id="topo" style="position: absolute; top: 0;"></div>
    <input type="hidden" name="secaoAtual1" value="default_value1">
        
        
    <div id="section1" class="form-section active">
        
        <h1 style="text-align: center;"> Formulário para Submissão: </h1></br>
        <div id="borda1" class="bordaPg">
        <h4><label id="autor" for="autor"> <a style="color: red;" title="Elemento obrigatório">*</a>Identificação do responsável pelo dado:</label></h4>
    </br>

        <input autofocus type="text" id="correspondente" name="correspondente" style="width: 49%;" placeholder="Nome Completo" onkeydown="bloquearEnter(event)" > <!-- REVISAR NOME DOS CAMPOS --  COM OS DO BANCO--> 
        <input type="email" id="email" name="email" style="width: 49%;" placeholder="E-mail do responsável (ex: xxxxx@mail.com)" maxlength="255" onkeydown="bloquearEnter(event)" >
    </br>
</br>

<div for="tit">
<div style="display: flex; align-items: center; width: 100%;">
<h4 for="titulo" style="width: auto; margin: 0;"><a style="color: red;" title="Elemento obrigatório">*</a>Título do projeto principal:
</h4>

<div class="tooltip-container">
    <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
    <div class="tooltip">Se os dados estiverem relacionados a um projeto de pesquisa, adicione o <span class="bold">título</span> e a <span class="bold">sigla</span> do projeto principal em que o dado foi gerado. Se você não tiver essa informação pergunte a seu/sua orientador/a.</div>
  </div>
</div>
</div>
<input  id="tituloPrinc" type="text" name="tituloPrinc" style="width: 98.4%;" onkeydown="bloquearEnter(event)" >
</br></br>


<div for="tit-dd">
    <div style="display: flex; align-items: center; width: 100%;">
        <h4 for="tit-dd" style="width: auto; margin: 0;"><a style="color: red;" title="Elemento obrigatório">*</a>Título para os dados inserido:</h4>
        <div class="tooltip-container">
            <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
            <div class="tooltip">Insira um título que descreva de forma clara e objetiva do que se trata o conjunto de dados a serem submetidos. 
                Ele não deve ser igual ao título da publicação relacionada, mas deve refletir o que foi <span class="bold">medido, onde e quando</span>.</div>
            </div>
    </div>
</div>
<input id="tituloDado" type="text" name="tituloDado" style="width: 98.4%;" onkeydown="bloquearEnter(event)">
</br>
</br>


<div id="trab-asso">
    <h4><a style="color: red;" title="Elemento obrigatório">*</a>Existe algum trabalho associado a este conjunto de dados</h4>

    <h5>
        <input type="radio" id="trab-sim" name="trab_associado" value="sim" onclick="mostrarDivInfo()" onkeydown="bloquearEnter(event)" >
        <label for="trab-sim">Sim</label>

        <input type="radio" id="trab-nao" name="trab_associado" value="nao" onclick="ocultarDivInfo()" onkeydown="bloquearEnter(event)" >
        <label for="trab-nao">Não</label>
    </h5> </br>

    <!-- Div com mais informações -->
    <div id="info-adicional" style="max-height: 0; overflow: hidden; transition: max-height 0.5s ease;">
        <div id="tipoTrabalho" class="coluna">
            <div>
                <label for="tipoTrabalho"> Tipo de trabalho:</label><br>
                <select id="tipoTrabalhoSelecao" name="tipoTrabalho"  style="height: 30px;" onkeydown="bloquearEnter(event)" >
                    <option value=""> --- </option>
                    <option value="Artigo"> Artigo </option>
                    <option value="Tese de Doutorado"> Tese de Doutorado </option>
                    <option value="Dissertação de Mestrado"> Dissertação de Mestrado </option>
                    <option value="Relatório"> Relatórios </option>
                    <option value="Resumo"> Resumo </option>
                    <option value="TCC"> Trabalho de conclusão de curso </option> <!-- att no SQL-->
                    <option value="IC"> Iniciação científica </option> <!-- att no SQL-->
                </select>
            </div>
    </div>
<div class="coluna">
    <div id="titulo-trab">
        <label for="tit-trab" id="tit-trab">Título do Trabalho:</label></br>
        <textarea style="width: 100%; resize:vertical;" type="text" id="titTrab" name="titTrab" maxlength="1500" rows="3" onkeydown="bloquearEnter(event)" ></textarea> <!-- att no SQL -->
    </div>
</div>
</div>
</div> 
</div> <!-- borda 1-->
</br>
</br>


<!-- coAutores -->
 <div id="borda2" class="bordaPg">
<h4 id="coAutores">Adicionar Autores e Coatores:</h4></br>      
<div id="autoresContainer">
    <div class="autor" id="autorContainer0">
        <div class="colunaaut">
            <input type="text" class="autor" name="autor[]" id="autor0" placeholder="Nome Completo" autocomplete="off" style="width: 100%;" onkeydown="bloquearEnter(event)" >
        </div>
        <div class="colunafili">
            <input type="text" class="filiacao" name="filiacao[]" id="filiacao0" placeholder="Filiação" autocomplete="off" style="width: 100%;" onkeydown="bloquearEnter(event)" >
        </div>
    </div></br>
    <!-- Aqui serão adicionados os campos de coautores dinamicamente -->
</div>
<br>
<div id="autor-button" style="display: flex; justify-content: space-between; gap: 10px;">
    
    <button class="button" type="button" onclick="adicionarAutor()">Adicionar Autor</button>
    <button type="button" class="button" onclick="deletarAutor()">Remover último Co-autor</button>
    <button type="button"  class="button" onclick="removerTODOSAutores()">Remover todas as linhas </button>
</div>
</div>
</br>
</br>


<div id="borda3" class="bordaPg">
<div>
    <h4 for="referencia" ><a style="color: red;" title="Elemento obrigatório">*</a>Referência:</h4></br>
    <textarea type="text" id="referencia" name="referencia" maxlength="1500" rows="5" cols="10" style="width: 98.4%;" onkeydown="bloquearEnter(event)" placeholder="SOBRENOME, nome abreviado. Título do artigo. Título da Revista, (abreviado ou não) Local de Publicação, Número do Volume, Número do Fascículo, Páginas inicial-final, mês e ano."></textarea></br></br>
</div>

</div>


<div style="display: flex; justify-content: flex-end; align-items: flex-end; height: 100px;">
    <button class="button" type="button" onclick="proximaPagina()"> Avançar </button>
</div>


</div>





    <!-- SEGUNDA PAGINA-->
<div id="section2" class="form-section">
    <input type="hidden" name="secaoAtual2" value="default_value2">
          <h1 style="text-align: center;">Informação dos dados a serem submetidos:</h1></br>
<div id="borda4" class="bordaPg">
    <div id="resumo">
        <div style="display: flex; align-items: center; width: 100%;">

        
        <h4 style="width: auto; margin: 0;">
            <a style="color: red;" title="Elemento obrigatório">*</a>Resumo dos dados</h4>

        <div class="tooltip-container">
            <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
            <div class="tooltip">O resumo de cada conjunto de dados fornece uma descrição concisa e focada no método utilizado na aquisição do dado, ou 
                seja, <span class="bold">o que, quando, onde, por que e como os dados foram coletados.</span> O resumo deve consistir em texto corrido significativo, no mesmo formato dos resumos de artigos. Qualquer abreviação 
                deve ser explicada. </br> Precisa de mais informações veja essa <a target="_blank" rel="noopener noreferrer" href="https://wiki.pangaea.de/wiki/Abstract">página.</a></div>
          </div>
        </div>
    </div>
        </br>
        <textarea autofocus type="text" id="resDado" name="res_dado"  maxlength="2500" rows="4" cols="1000" style="width: 98.4%;" onkeydown="bloquearEnter(event)"></textarea>
    </div>    

</br></br>
<div id="borda5" class="bordaPg">
    <div id="coord">
        <div style="display: flex; align-items: center; width: 100%;">
            <h4 for="lat-long" style="width:auto; margin: 0;">
                <a style="color: red;" title="Elemento obrigatório">*</a> Identificação do(s) ponto(s) de coleta do(s) dados
            </h4>
            
            <div class="tooltip-container" style="margin-left: 8px;">
                <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
                <div class="tooltip">
                    Para cada amostra, é preciso adicionar a <span class="bold">identificação da estação oceanográfica</span> e a(s) coordenada(s) <span class="bold">(latitude/longitude</span> em graus decimais, WGS84).   
                    </br> FUTURO: Trabalhos com muitos pontos de coleta (p.e., amostras de sedimento superficial) poderão inserir uma tabela com estes dados.
                </div>
            </div>
        </div>
   
<div id="trab-asso">
    <h5>
        <input type="radio" id="pontoPon" name="ponto" value="pontoPon" onclick="mostrarDiv1()" onkeydown="bloquearEnter(event)">
        <label for="pontoPron">Ponto a Ponto </label>

        <input type="radio" id="areaP" name="ponto" value="areaP" onclick="mostrarDiv2()" onkeydown="bloquearEnter(event)">
        <label for="areaP">Área<a style="font-size: 15px;"> (Utilize apenas para modelos)</a></label>

    </h5> </br>  
    
<div id="divEBotoes" style="max-height: 0; overflow: hidden; transition: max-height 0.5s ease;">    
    <div id="coordenadas" >
      <!-- os pontos de coletas serão inseridos aqui -->
        
    </div>
    <div id="coord-bttn" style="display: flex; justify-content: space-between; gap: 10px;">

        <button  class="button" type="button" onclick="adicionarCoordenadas() ">Adicionar Ponto</button>
        <button type="button"  class="button" onclick="deletarCoordenadas() ">Remover Ponto</button>
        <button type="button"  class="button" onclick="removerTODAScoordenadas()">Remover todos os Pontos</button>
    
    </div>
</div>
<div id="area"style="max-height: 0; overflow: hidden; transition: max-height 0.5s ease;">
    <h5>Adicione 4 pontos:</h5>
    <div class="coordenadas-campo" id="area" style="display: flex; flex-wrap: wrap; width: 100%; gap: 4.8px;">
        <input type="text" class="ID_amst" id="ID_amstAREA1" name="ID_amstAREA1" placeholder="ID" style="width: 20%;" autocomplete="off" maxlength="10"onkeydown="bloquearEnter(event)">
    <input type="text" class="latitude" id="latitudeAREA1" name="latitudeAREA1" placeholder="-YY.YYYYY" style="width: 25%;" maxlength="15" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="text" class="longitude" id="longitudeAREA1" name="longitudeAREA1" placeholder="-XX.XXXX" step="width:25% " maxlength="25" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="date" class="dat" id="dataAREA1" name="dataAREA1" style="width: 20%;" maxlength="10" autocomplete="off">
    </div>
</br>
    <div class="coordenadas-campo" id="area" style="display: flex; flex-wrap: wrap; width: 100%; gap: 4.8px;">
        <input type="text" class="ID_amst" id="ID_amstAREA2" name="ID_amstAREA2" placeholder="ID" style="width: 20%;" autocomplete="off" maxlength="10"onkeydown="bloquearEnter(event)">
    <input type="text" class="latitude" id="latitudeAREA2" name="latitudeAREA2" placeholder="-YY.YYYYY" style="width: 25%;" maxlength="15" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="text" class="longitude" id="longitudeAREA2" name="longitudeAREA2" placeholder="-XX.XXXX" step="width:25% " maxlength="25" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="date" class="dat" id="dataAREA2" name="dataAREA2" style="width: 20%;" maxlength="10" autocomplete="off">
    </div>
</br>
    <div class="coordenadas-campo" id="area" style="display: flex; flex-wrap: wrap; width: 100%; gap: 4.8px;">
        <input type="text" class="ID_amst" id="ID_amstAREA3" name="ID_amstAREA3" placeholder="ID" style="width: 20%;" autocomplete="off" maxlength="10"onkeydown="bloquearEnter(event)">
    <input type="text" class="latitude" id="latitudeAREA3" name="latitudeAREA3" placeholder="-YY.YYYYY" style="width: 25%;" maxlength="15" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="text" class="longitude" id="longitudeAREA3" name="longitudeAREA3" placeholder="-XX.XXXX" step="width:25% " maxlength="25" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="date" class="dat" id="dataAREA3" name="dataAREA3" style="width: 20%;" maxlength="10" autocomplete="off">
    </div>
</br>
    <div class="coordenadas-campo" id="area" style="display: flex; flex-wrap: wrap; width: 100%; gap: 4.8px;">
        <input type="text" class="ID_amst" id="ID_amstAREA4" name="ID_amstAREA4" placeholder="ID" style="width: 20%;" autocomplete="off" maxlength="10"onkeydown="bloquearEnter(event)">
    <input type="text" class="latitude" id="latitudeAREA4" name="latitudeAREA4" placeholder="-YY.YYYYY" style="width: 25%;" maxlength="15" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="text" class="longitude" id="longitudeAREA4" name="longitudeAREA4" placeholder="-XX.XXXX" step="width:25% " maxlength="25" autocomplete="off"onkeydown="bloquearEnter(event)">
    <input type="date" class="dat" id="dataAREA4" name="dataAREA4" style="width: 20%;" maxlength="10" autocomplete="off">
    </div>
</br>
</div>
</div>
</div> <!-- id para sumir ou não -->
</div>
</br>
</br>
<div id="borda6" class="bordaPg">
<div id="tipFerr">
<div id="amostras" class="tipAmostra">
    <h4>Tipo de Amostra</h4>
    <select id="tipAmst" name="tipAmst" style="height: 30px; width: 70%;" onkeydown="bloquearEnter(event)">
        <option value=""> --- </option>
        <option value="Água">Água</option>
        <option value="Sedimento">Sedimento</option>
        <option value="Organismos">Organismos</option>
        <option value="MPS">MPS</option>
        <option value="Modelagem">Modelagem</option>
        <option value="Medição">Medição</option>
        <option value="outrTip">Outro</option>
    </select>
</div>

<div id="proxys-container">
    <div style="display: flex;">
        <h4 style="width: auto; margin: 0;">Ferramenta utilizada:</h4>

        <div class="tooltip-container">
            <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
            <div class="tooltip">Indique quantas forem necessárias</div>
        </div>
    </div>

    <div id="checkbox-columns" style="display: flex; width: 100%; justify-content: space-between;">
        <div id="proxys" class="tipAmostra2">
            <input type="checkbox" id="associ" name="associ" value="Associação" onkeydown="bloquearEnter(event)">
            <label for="associ">Associação</label><br>

            <input type="checkbox" id="batmet" name="batmet" value="Batimetria" onkeydown="bloquearEnter(event)">
            <label for="batmet">Batimetria</label><br>

            <input  type="checkbox" id="bioOrg" name="bioOrg" value="Biormacadores Orgânicos" onkeydown="bloquearEnter(event)">
            <label for="bioOrg" style="white-space: normal;">Biomarcadores Orgânicos</label><br>

            <input type="checkbox" id="cocolit" name="cocolit" value="Cocolitoforídeos" onkeydown="bloquearEnter(event)">
            <label for="cocolit">Cocolitoforídeos</label><br>

            <input type="checkbox" id="estrat" name="estrat" value="Estratigrafia" onkeydown="bloquearEnter(event)">
            <label for="estrat">Estratigrafia</label><br>

            <input type="checkbox" id="foramplan" name="foramplan" value="foramplan" onkeydown="bloquearEnter(event)">
            <label style="white-space: normal;" for="foramplan">Foraminíferos Planctônicos</label><br>

            <input type="checkbox" id="forambent" name="forambent" value="forambent" onkeydown="bloquearEnter(event)">
            <label for="forambent">Foraminíferos Bentônicos</label><br>

            <input type="checkbox" id="granl" name="granl" value="Granulometria" onkeydown="bloquearEnter(event)">
            <label for="granl">Granulometria</label><br>

            <input type="checkbox" id="hidrod" name="hidrod" value="Hidrodinâmica" onkeydown="bloquearEnter(event)">
            <label for="hidrod">Hidrodinâmica</label><br>

            <input type="checkbox" id="hidrog" name="hidrog" value="Hidrografia" onkeydown="bloquearEnter(event)">
            <label for="hidrog">Hidrografia</label><br>
                      
        </div>

        <div id="proxys2" class="tipAmostra3">
            <input type="checkbox" id="matorg" name="matorg" value="Matéria Orgânica"onkeydown="bloquearEnter(event)">
            <label for="matorg">Matéria Orgânica</label><br>

            <input type="checkbox" id="metais" name="metais" value="Metais" onkeydown="bloquearEnter(event)">
            <label for="metais">Metais e Semi-metais</label><br>

            <input type="checkbox" id="microps" name="microps" value="Microplásticos" onkeydown="bloquearEnter(event)">
            <label for="microps">Microplásticos</label><br>

            <input type="checkbox" id="ageMod" name="ageMod" value="Modelos de idade" onkeydown="bloquearEnter(event)">
            <label for="ageMod">Modelos de idade</label><br>

            <input type="checkbox" id="proFisi" name="proFisi" value="Propriedades físicas" onkeydown="bloquearEnter(event)">
            <label for="proFisi">Propriedades físicas</label><br>
            
            <input type="checkbox" id="radioist" name="radioist" value="Radioisótopos" onkeydown="bloquearEnter(event)">
            <label for="radioist">Radioisótopos</label><br>
            
            <input type="checkbox" id="razIsot" name="razIsot" value="Razões Isotópicas" onkeydown="bloquearEnter(event)">
            <label for="razIsot">Razões Isotópicas</label><br>
            
            <input type="checkbox" id="SmodNum" name="SmodNum" value="Saída de modelo numérico" onkeydown="bloquearEnter(event)">
            <label for="SmodNum">Saída de modelo numérico</label><br>

            <input type="checkbox" id="teorAg" name="teorAg" value="Teor de Água" onkeydown="bloquearEnter(event)">
            <label for="teorAg">Teor de Água</label><br>


            <input type="text" id="outroFerr" name="outroFerr" placeholder="Outra Ferramenta" style="width: 90%;" onkeydown="bloquearEnter(event)">
        </div>
    </div>
</div>
</div>
</div>
</br>
</br>

<div id="borda7" class="bordaPg">
<div id="equipamentos-container">
    <div style="display: flex;">
        <h4 style="width: auto; margin: 0;">Equipamento de Coleta:</h4>
</div>
</br>
    <div id="checkbox-columns" style="display: inline-flex; width: 100%;">
        <div id="equip1" class="equipColet1">
            <input type="checkbox" id="pstCor" name="pstCor" value="Piston Corer" onkeydown="bloquearEnter(event)">
            <label for="pstCor">Piston Corer</label><br>

            <input type="checkbox" id="gravt" name="gravt" value="Gravity Corer" onkeydown="bloquearEnter(event)">
            <label for="gravt">Gravity Corer</label><br>

            <input  type="checkbox" id="drill" name="drill" value="Drilling device" onkeydown="bloquearEnter(event)">
            <label for="drill">Drilling device</label><br>

            <input type="checkbox" id="gbox" name="gbox" value="Giant box corer" onkeydown="bloquearEnter(event)">
            <label for="gbox">Giant box corer</label><br>

            <input type="checkbox" id="boxcr" name="boxcr" value="Box Corer" onkeydown="bloquearEnter(event)">
            <label for="boxcr">Box Corer</label><br>

            <input type="checkbox" id="ADCP" name="ADCP" value="ADCP" onkeydown="bloquearEnter(event)">
            <label for="ADCP">ADCP</label><br>
        </div>

        <div id="equip2" class="equipColet2">
            <input type="checkbox" id="corrt" name="corrt" value="Correntômetro" onkeydown="bloquearEnter(event)">
            <label for="corrt">Correntômetro</label><br>

            <input type="checkbox" id="CTD" name="CTD" value="CTD" onkeydown="bloquearEnter(event)">
            <label for="CTD">CTD</label><br>

            <input type="checkbox" id="modNum" name="modNum" value="Modelo numérico" onkeydown="bloquearEnter(event)">
            <label for="modNum">Modelo numérico</label><br>

            <input type="checkbox" id="multb" name="multb" value="Multibean" onkeydown="bloquearEnter(event)">
            <label for="multb">Multibean</label><br>
                      
          
            <input type="checkbox" id="multCor" name="multCor" value="Multiple Corer" onkeydown="bloquearEnter(event)">
            <label for="multCor">Multiple Corer</label><br>

           <input type="checkbox" id="satl" name="satl" value="Satélite" onkeydown="bloquearEnter(event)">
            <label for="satl">Satélite</label><br>
            
        </div>
        <div id="equip3" class="equipColet3">
            
            <input type="checkbox" id="sensBio" name="sensBio" value="Sensores bio-ópticos" onkeydown="bloquearEnter(event)">
            <label for="sensBio">Sensores bio-ópticos</label><br>

            <input type="checkbox" id="sidSc" name="sidSc" value="Side-sacn sonar" onkeydown="bloquearEnter(event)">
            <label for="sidSc">Side-scan sonar</label><br>
            
            <input type="checkbox" id="vanv" name="vanv" value="Van-veen" onkeydown="bloquearEnter(event)">
            <label for="vanv">Van-veen</label><br>
            
            <input type="text" id="outroEqui" name="outroEqui" placeholder="Outro" style="width:100%;" onkeydown="bloquearEnter(event)">
        </div>
    </div>

</div>
</div>

</br>
</br>
<div id="borda8" class="bordaPg">
<h4> Adicione o arquivo CSV (separado por virgula): </h4>
<a title="VER MODELO" href="javascript:abrirCSV()"  style="color: green; margin-right: 2%; font-size: 45px;" class="bi bi-filetype-csv"></a>
<input id="refef" type="file" name="tabelaDado" style="width: 30%;" unique onkeydown="bloquearEnter(event)"> <br><br><br>
    
  <div id="armazenamento">
    <div style="display: flex; align-items: center; width: 100%;">

    <h4 style="width:auto; margin: 0;" for='armazenamento'> Como deseja armazenar os dados?</h4>
    <div class="tooltip-container" style="margin-left: 8px;">
        <i class="bi bi-info-circle-fill info-icon"></i> <!-- Ícone de informação do Bootstrap -->
        <div class="tooltip">
            <span class="bold">Público:</span> qualquer pessoa que acessar o Banco de dados poderá visualizar e baixar os dados disponibilizados aqui.</br>
            <span class="bold">Privado:</span> qualquer pessoa que acessar o Banco de dados poderá visualizar os metadados disponibilizados aqui, mas somente pessoas autorizadas (membros do grupo de pesquisa previamente cadastrados) terão acesso integral aos dados
disponibilizados aqui.</div>
    </div>

</div>

</br>

    <select id="armazenamentoSelecao" name="armazenamento" style="width: 25%;">
        <option value="">---</option>
        <option value="Público"> Público</option>
        <option value="Privado"> Privado </option>
    </select></br><br>

</div>
</div>
<div class="termo">

<input type="checkbox" id="termo" name="termo" value="term" onkeydown="bloquearEnter(event)">
<label><h5 for="termo"> Li e concordo com os termos sobre o uso dos dados <a href="javascript:abrirTermo()"> Clique aqui para ler</a></h5></label>

</div> 
       
    
<div id="bttn" style="display: flex; justify-content: space-between; align-items: flex-end;height: 100px;">
    <button class="button" type="button" onclick="paginaAnterior()">Anterior</button>
    <button class="button" type="button" onclick="proximaPagina(); exibirResumo(); exibirDADOS()">Avançar</button>
</div>
</div>

</br></br>
<!-- terceira PAGINA -->
<div id="section3" class="form-section">
    <h1>  Confirme todas as informações: </h1>
    <div id="summary-1">
       
    </div>

    <div id="summary-2">
       
    </div>

</br>
</br>
<div id="bttn" style="display: flex; justify-content: space-between; align-items: flex-end;height: 100px;">   
    <button class="button" type="button"  onclick="paginaAnterior()">Anterior</button>
    <button class="button" type="submit"> Submeter</button>
</div>


</div>

</form>




<!--<form action="../PHP/teste-conexao-postgre.php" method="post">

    <button class="button" type="submit"> CONSULTAR CONEXÂO COM BANCO</button>
</form>
</br>
</br>-->
<!-- rodapé da página-->


<footer id="contact" class="py-5 bg-dark" style="position: relative;">
    <div class="footer-container">
        <div class="column1">
            <p style="text-align: justify;" class="text-white">Este banco de dados é produto do projeto “Um banco de dados de registros proxy do Atlântico Sudoeste nos últimos 2 mil anos para projeções climáticas mais robustas no passado e futuro (2023 - atual)” CNPq processo n° - Chamada CNPq/MCTI/FNDCT Nº 59/2022 (Linha 5).</p>
        </div>

        <div class="column2">
            <p class="text-white">Copyright &copy; ProxyMar 2024</p>
            <a href="https://www.instagram.com/proxymar_iousp/" target="_blank" class="bi bi-instagram"></a>
            <a href="https://sites.usp.br/proxymar/sobre/" target="_blank" class="bi bi-globe2"></a>
            <a href="mailto:proxymar@usp.br" target="_blank" class="bi bi-envelope"></a>
        </div>
        
        <div class="column3">
            <div>
                <p> Execução:</p>
                <a href="https://www5.usp.br"><img style="background-color: white;" src="https://imagens.usp.br/wp-content/uploads/usp-logo-transp-600x253.png" width="120"></a>
                <a href="https://www.io.usp.br"><img  src="https://www.io.usp.br/templates/base/img/logo.png" width="120"></a>
                <a href="https://sites.usp.br/proxymar/"><img style="background-color: white;" src="../assets/ProxyMar-logo.png" width="120"></a>
            </div>
            <div>
                <p> Financiamento:</p>
                <a href="https://www.gov.br/cnpq/pt-br"><img src="../assets/CNPq-logo.png" width="120"></a>
                <a href="https://www.gov.br/mcti/pt-br"><img src="../assets/MCTI.png" width="120"></a>
                <a href="https://www.gov.br/mcti/pt-br/acompanhe-o-mcti/fndct"><img src="../assets/fndct.png" width="120"></a>

            </div>
        </div>
    </footer>


<script>
    // Função genérica para autocomplete
    function autocomplete(inputField, phpScript) {
        var inputValue = inputField.value.trim();
        var inputId = inputField.id;

        if (inputValue.length < 1) {
            return;
        }

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    try {
                        var suggestions = JSON.parse(xhr.responseText);
                        showSuggestions(inputField, suggestions);
                    } catch (e) {
                        console.error('Erro ao processar JSON:', e);
                    }
                } else {
                    console.error('Erro na requisição: ' + xhr.status + ' - ' + xhr.statusText);
                }
            }
        };

        xhr.open("GET", phpScript + "?q=" + encodeURIComponent(inputValue), true);
        xhr.send();
    }

    // Função para exibir sugestões
    function showSuggestions(inputField, suggestions) {
        var inputId = inputField.id;
        var autocompleteContainerId = inputId + "-autocomplete";

        var autocompleteContainer = document.getElementById(autocompleteContainerId);
        if (!autocompleteContainer) {
            autocompleteContainer = createAutocompleteContainer(inputId);
        } else {
            autocompleteContainer.innerHTML = '';
        }

        var ul = document.createElement('ul');
        ul.classList.add('autocomplete-list');

        var selectedIndex = -1;

        suggestions.forEach(function(suggestion, index) {
            var li = document.createElement('li');
            li.textContent = suggestion;
            li.addEventListener("click", function() {
                inputField.value = suggestion;
                autocompleteContainer.style.display = 'none';
            });

            ul.appendChild(li);
        });

        autocompleteContainer.appendChild(ul);
        autocompleteContainer.style.display = 'block';

        function updateSelection() {
        var lis = ul.getElementsByTagName('li');
        for (var i = 0; i < lis.length; i++) {
            lis[i].classList.remove('selected');
        }
        if (selectedIndex !== -1) {
            lis[selectedIndex].classList.add('selected');
        }
    }

    inputField.addEventListener("keydown", function(event) {
        var lis = ul.getElementsByTagName('li');
        if (event.key === "ArrowDown") {
            selectedIndex = Math.min(selectedIndex + 1, suggestions.length - 1);
            updateSelection();
        } else if (event.key === "ArrowUp") {
            selectedIndex = Math.max(selectedIndex - 1, 0);
            updateSelection();
        } else if (event.key === "Enter" && selectedIndex !== -1) {
            event.preventDefault();
            inputField.value = suggestions[selectedIndex];
            autocompleteContainer.style.display = 'none';
        } else if (event.key === "Escape") {
            autocompleteContainer.style.display = 'none';
        } else if (event.key === "Tab") {
            autocompleteContainer.style.display = 'none';
        }
    });
}
    // Função para criar o contêiner de autocomplete
    function createAutocompleteContainer(inputId) {
        var inputElement = document.getElementById(inputId);
        var autocompleteContainerId = inputId + "-autocomplete";

        var autocompleteContainer = document.createElement("div");
        autocompleteContainer.id = autocompleteContainerId;
        autocompleteContainer.className = "autocomplete-container";

        inputElement.parentNode.insertBefore(autocompleteContainer, inputElement.nextSibling);

        document.addEventListener("click", function(event) {
            if (!autocompleteContainer.contains(event.target)) {
                autocompleteContainer.style.display = 'none';
            }
        });

        return autocompleteContainer;
    }

    // Adicionar evento aos campos de autor existentes
    document.querySelectorAll('.autor').forEach(function(inputField) {
        inputField.addEventListener('input', function() {
            autocomplete(this, "../PHP/busca_autor.php");
        });
    });

    // Adicionar evento aos campos de filiação existentes
    document.querySelectorAll('.filiacao').forEach(function(inputField) {
        inputField.addEventListener('input', function() {
            autocomplete(this, "../PHP/busca_fili.php");
        });
    });

        // Tempo fixo para o preloader
        const PRELOADER_TIMEOUT = 2500; // 3000ms = 3 segundos

// Remove o preloader e exibe o conteúdo após o tempo fixo
window.addEventListener('load', () => {
  setTimeout(() => {
    document.getElementById('preloader').style.display = 'none';
    document.getElementById('page1').style.display = 'block';
  }, PRELOADER_TIMEOUT);
});


</script>

</body>      
</html>